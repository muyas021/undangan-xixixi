<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Lora:wght@400;700&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="css/style.css" />
  </head>
  <body>
    <header
      class="max-w-480 mx-auto bg-no-repeat bg-cover bg-center flex items-center"
      style="background-image: url(assets/images/bg-header.png)"
    >
      <h1 class="max-w-full max-h-full mx-auto my-24 text-center">
        <span class="font-normal tracking-wider">The Wedding of</span>
        <img
          class="max-w-full mx-auto mt-4"
          src="assets/images/sign-oy.png"
          alt=""
        />
        <span class="font-normal tracking-wider">Oki & Yasin</span>
      </h1>
    </header>
    <main class="max-w-480 mx-auto">
      <article class="px-6 py-12 mx-auto bg-sage-700">
        <h2
          class="mb-2 text-center tracking-wider text-2xl font-bold text-white"
        >
          Kedua Mempelai
        </h2>
        <section class="mb-8">
          <p class="text-center tracking-wide text-sm text-white">
            Dengan mengharap rahmat dan ridho Allāh Subḥānahu Wa Taʿālā, kami
            bermaksud mengundang Bapak/Ibu/Saudara/i untuk hadir dalam acara
            pernikahan kami:
          </p>
        </section>
        <section class="mb-8">
          <img
            class="max-w-full mx-auto mb-2"
            src="assets/images/frame-oki.png"
            alt=""
          />
          <h3
            class="text-center tracking-wider text-xl font-bold text-white mb-1"
          >
            Oki Riayati
          </h3>
          <p class="text-center tracking-wide text-sm text-white">
            Putri dari Bapak Ahmad Barqi (Rahimahullāh) dan Ibu Saodah
            (Rahimahullāh)
          </p>
        </section>
        <section>
          <img
            class="max-w-full mx-auto mb-2"
            src="assets/images/frame-yasin.png"
            alt=""
          />
          <h3
            class="text-center tracking-wider text-xl font-bold text-white mb-1"
          >
            Muhammad Yasin
          </h3>
          <p class="text-center tracking-wide text-sm text-white">
            Putra dari Bapak Indratno (Rahimahullāh) dan Ibu Murtiasih
          </p>
        </section>
      </article>

      <article class="px-6 py-12 mx-auto bg-white">
        <h2
          class="mb-6 text-center tracking-wider text-2xl font-bold text-sage-700"
        >
          Menuju Hari Bahagia
        </h2>
        <section
          class="mb-6 px-10 py-10 border border-solid rounded-md border-sage-200 w-fit"
        >
          <h3
            class="text-center tracking-wider text-xl font-bold text-sage-700 mb-6"
          >
            Akad Nikah
          </h3>
          <div class="flex mb-3">
            <img src="assets/icons/icon-calendar.svg" alt="" />
            <p class="ml-2 text-sm text-sage-700">Jum’at, 2 Desember 2022</p>
          </div>
          <div class="flex mb-3">
            <img src="assets/icons/icon-clock.svg" alt="" />
            <p class="ml-2 text-sm text-sage-700">16:00 s.d. 18:00 WIB</p>
          </div>
          <div class="flex">
            <img src="assets/icons/icon-map-pin.svg" alt="" />
            <p class="ml-2 text-sm text-sage-700">Masjid Nurul Ihsan</p>
          </div>
          <p class="ml-7 mt-1 text-sm text-sage-700">
            Jalan Nurul Ihsan, Blok Muamalah VI No.49 RT.3/RW.3, Kelurahan
            Cipedak, Kecamatan Jagakarsa, Kota Jakarta Selatan, Daerah Khusus
            Ibukota Jakarta 12630
          </p>
          <a
            href="https://goo.gl/maps/Nnd3FoCuuTanfRvy9"
            class="flex bg-sage-700 w-fit px-4 py-2.5 rounded-md mx-auto mt-6"
          >
            <img src="assets/icons/icon-navigation.svg" alt="" />
            <span class="ml-2 text-white font-sm my-auto">Lihat lokasi</span>
          </a>
        </section>
        <section
          class="px-10 py-10 border border-solid rounded-md border-sage-200 w-fit"
        >
          <h3
            class="text-center tracking-wider text-xl font-bold text-sage-700 mb-6"
          >
            Ngeteh Bersama
          </h3>
          <div class="flex mb-3">
            <img src="assets/icons/icon-calendar.svg" alt="" />
            <p class="ml-2 text-sm text-sage-700">Ahad, 4 Desember 2022</p>
          </div>
          <div class="flex mb-3">
            <img src="assets/icons/icon-clock.svg" alt="" />
            <p class="ml-2 text-sm text-sage-700">14:00 s.d. 16:00 WIB</p>
          </div>
          <div class="flex">
            <img src="assets/icons/icon-map-pin.svg" alt="" />
            <p class="ml-2 text-sm text-sage-700">Rumah Orang Tua Yasin</p>
          </div>
          <p class="ml-7 mt-1 text-sm text-sage-700">
            Jalan Pemuda I No. 10 RT.8/RW.9, Kelurahan Srengseng Sawah,
            Kecamatan Jagakarsa, Kota Jakarta Selatan, Daerah Khusus Ibukota
            Jakarta 12640
          </p>
          <a
            href="https://goo.gl/maps/gfiJuUeRsNSKSYbC7"
            class="flex bg-sage-700 w-fit px-4 py-2.5 rounded-md mx-auto mt-6"
          >
            <img src="assets/icons/icon-navigation.svg" alt="" />
            <span class="ml-2 text-white font-sm">Lihat lokasi</span>
          </a>
        </section>
      </article>

      <article class="px-6 py-12 mx-auto bg-sage-700">
        <h2
          class="mb-2 text-center tracking-wider text-2xl font-bold text-white"
        >
          Kisah Perjalanan Kami
        </h2>
        <section class="mb-4">
          <p class="text-center tracking-wide text-sm text-white">
            Perkenalan kami dimulai sejak awal September 2022 dengan didampingi
            perantara.
          </p>
        </section>
        <div class="h-px w-1/6 bg-sage-200 mx-auto mb-4"></div>
        <section class="mb-8">
          <p class="text-center tracking-wide text-sm text-white mb-4">
            Alhamdulillāh proses perkenalan berjalan lancar dan kami telah
            memantapkan hati. Prosesi khitbah kami telah berlangsung pada 6
            November 2022 dan insyāAllāh kami akan melangsungkan pernikahan pada
            2 Desember 2022.
          </p>
          <img
            class="max-w-full mx-auto"
            src="assets/images/bunga-buat-oki.jpg"
            alt=""
          />
        </section>
        <h2
          class="mb-2 text-center tracking-wider text-2xl font-bold text-white"
        >
          Doa untuk Pengantin
        </h2>
        <section class="mb-4">
          <img
            class="max-w-full mx-auto"
            src="assets/images/doa-pengantin.png"
            alt=""
          />
          <p class="text-center tracking-wide text-sm text-white mb-4 mt-2">
            “Semoga Allāh memberkahimu di waktu bahagia dan memberkahimu di
            waktu susah, serta semoga Allāh mempersatukan kalian berdua dalam
            kebaikan.”
          </p>
        </section>
      </article>

      <article class="px-6 py-12 mx-auto bg-white">
        <h2
          class="mb-6 text-center tracking-wider text-2xl font-bold text-sage-700"
        >
          Kirim Hadiah
        </h2>
        <section
          class="mb-6 px-6 py-10 border border-solid rounded-md border-sage-200 w-fit"
        >
          <h3
            class="text-center tracking-wider text-xl font-bold text-sage-700 mb-4"
          >
            Ke Nomor Rekening
          </h3>
          <p class="mt-1 text-center text-sm text-sage-700">
            Apabila ingin mengirimkan hadiah berupa transfer, silakan copy nomor
            rekening bank berikut:
          </p>
          <div
            class="w-full bg-sage-200 rounded-md mt-4 px-4 py-4 andro:px-6 andro:py-8"
          >
            <img class="ml-auto mb-12" src="assets/images/mandiri.png" alt="" />
            <div class="flex justify-between">
              <div>
                <img src="assets/images/chip.png" alt="" />
                <p class="mt-1 text-sm text-sage-700">Oki Riayati</p>
                <p class="mt-1 text-sm text-sage-700">1220007879227</p>
              </div>
              <a
                href=""
                class="flex bg-sage-700 w-fit h-fit px-3 py-2 rounded-md mb-0 mt-auto"
              >
                <img src="assets/icons/icon-copy.svg" alt="" />
                <span class="ml-1 text-white font-sm my-auto">Salin</span>
              </a>
            </div>
          </div>
          <div
            class="w-full bg-sage-200 rounded-md mt-4 px-4 py-4 andro:px-6 andro:py-8"
          >
            <img class="ml-auto mb-12" src="assets/images/bca.png" alt="" />
            <div class="flex justify-between">
              <div>
                <img src="assets/images/chip.png" alt="" />
                <p class="mt-1 text-sm text-sage-700">Muhammad Yasin</p>
                <p class="mt-1 text-sm text-sage-700">7330514919</p>
              </div>
              <a
                href=""
                class="flex bg-sage-700 w-fit h-fit px-3 py-2 rounded-md mb-0 mt-auto"
              >
                <img src="assets/icons/icon-copy.svg" alt="" />
                <span class="ml-1 text-white font-sm my-auto">Salin</span>
              </a>
            </div>
          </div>
        </section>
        <section
          class="px-6 py-10 border border-solid rounded-md border-sage-200 w-fit"
        >
          <h3
            class="text-center tracking-wider text-xl font-bold text-sage-700 mb-4"
          >
            Ke Alamat Mempelai
          </h3>
          <p class="mt-1 text-center text-sm text-sage-700">
            Apabila ingin mengirimkan hadiah berupa barang untuk mempelai,
            silakan copy alamat bank berikut:
          </p>
          <p
            class="w-full bg-sage-200 rounded-md mt-4 px-4 py-4 andro:px-6 andro:py-8 text-sage-700"
          >
            Penerima: Ibu Asih
            <br />
            Alamat: Jalan Pemuda I No. 10 RT.8/RW.9, Kelurahan Srengseng Sawah,
            Kecamatan Jagakarsa, Kota Jakarta Selatan, Daerah Khusus Ibukota
            Jakarta 12640
            <br />
            No.HP: 081280905919
          </p>
          <a
            href=""
            class="flex bg-sage-700 w-fit px-4 py-2.5 rounded-md mx-auto mt-6"
          >
            <img src="assets/icons/icon-copy.svg" alt="" />
            <span class="ml-2 text-white font-sm my-auto">Salin Alamat</span>
          </a>
        </section>
      </article>

      <article class="px-6 py-12 mx-auto bg-sage-700">
        <h2
          class="mb-6 text-center tracking-wider text-2xl font-bold text-white"
        >
          Ucapan Selamat dan Doa untuk Oki dan Yasin
        </h2>
        <form id="comments">
          <div class="flex flex-col mb-4">
            <label class="text-sm text-white mb-2">Nama</label>
            <input
              id="name"
              class="px-3 py-2 rounded-md text-sm text-sage-700"
              type="text"
              placeholder="Nama Kamu"
              autocomplete="off"
            />
          </div>
          <div class="flex flex-col">
            <label class="text-sm text-white mb-2">Ucapan</label>
            <textarea
              id="comment"
              name="comment"
              class="h-40 px-3 py-2 rounded-md text-sm text-sage-700"
              placeholder="Isi yang ingin kamu ucapkan kepada mempelai..."
              autocomplete="off"
            ></textarea>
          </div>
          <button
            class="flex justify-center bg-white w-full px-4 py-2.5 rounded-md mx-auto mt-6"
          >
            <img src="assets/icons/icon-send.svg" alt="" />
            <span class="ml-2 text-sage-700 font-sm text-center my-auto"
              >Kirim</span
            >
          </button>
        </form>
        <div class="h-px w-full bg-sage-200 mt-9 mb-2"></div>
        <div class="comment-list flex flex-col-reverse"></div>
      </article>
    </main>

    <footer
      class="max-w-480 mx-auto bg-no-repeat bg-cover bg-center px-6 py-12"
      style="background-image: url(assets/images/bg-footer.png)"
    >
      <p class="text-center tracking-wide text-sm text-sage-700 mb-2">
        Atas doa dan restu dari Bapak/Ibu/Saudara/i, kami mengucapkan banyak
        terima kasih.
        <br />
        <br />
        Kami yang berbahagia,
      </p>
      <p
        class="mb-6 text-center tracking-wider text-2xl font-bold text-sage-700"
      >
        Oki & Yasin
      </p>
      <div class="h-px w-full bg-sage-200 mb-6 text-xs text-sage-200"></div>
      <p class="text-center tracking-wide text-sm text-sage-700 mb-2">
        Copyright © 2022. All rights reserved.
        <br />
        Made with love. Oki & Yasin.
      </p>
    </footer>

    <!-- <script src="http://cdn.date-fns.org/v1.9.0/date_fns.min.js"></script> -->
    <script src="https://www.gstatic.com/firebasejs/8.2.5/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.2.5/firebase-firestore.js"></script>

    <script>
      const firebaseConfig = {
        apiKey: "AIzaSyAvBNEbnc784-VefPBDlgr6UR288ZtHsmM",
        authDomain: "latihan-firebase-e1766.firebaseapp.com",
        projectId: "latihan-firebase-e1766",
        storageBucket: "latihan-firebase-e1766.appspot.com",
        messagingSenderId: "321815373445",
        appId: "1:321815373445:web:7229ca49dde4ddfdf86bec",
      };

      // Initialize Firebase
      firebase.initializeApp(firebaseConfig);
      const db = firebase.firestore();
    </script>
    <script>
      const form = document.getElementById("comments");

      const now = new Date();
      // adding data to db
      form.addEventListener("submit", (e) => {
        e.preventDefault();
        db.collection("comments").add({
          name: form.name.value,
          comment: form.comment.value,
          created_at: firebase.firestore.Timestamp.fromDate(now),
        });
        form.name.value = "";
        form.comment.value = "";
        form.created_at.value = Date;
      });

      // reading from db
      const div = document.querySelector(".comment-list");

      renderList = (doc) => {
        // const when = dateFns.distanceInWordsToNow(
        //   doc.data().created_at.toDate(),
        //   {
        //     addSuffix: true,
        //   }
        // );
        var main_div = document.createElement("div");
        // var time_div = document.createElement("div");
        var name = document.createElement("h5");
        var comment = document.createElement("p");
        // var created_at = document.createElement("p");
        // var clock = document.createElement("img");
        main_div.setAttribute("class", "mt-6");
        // time_div.setAttribute("class", "flex");
        name.setAttribute(
          "class",
          "text-white text-sm font-bold mb-1 tracking-wider"
        );
        comment.setAttribute("class", "text-white text-sm mb-1");
        // created_at.setAttribute(
        //   "class",
        //   "text-white text-xs text-sage-200 my-auto ml-1"
        // );
        // clock.setAttribute("src", "assets/icons/icon-clock-16.svg");
        name.textContent = doc.data().name;
        comment.textContent = doc.data().comment;
        // created_at.textContent = when;
        div.appendChild(main_div);
        main_div.appendChild(name);
        main_div.appendChild(comment);
        // main_div.appendChild(time_div);
        // time_div.appendChild(clock);
        // time_div.appendChild(created_at);
      };

      db.collection("comments")
        .orderBy("created_at")
        .onSnapshot((snap) => {
          let changes = snap.docChanges();
          changes.forEach((change) => {
            if (change.type == "added") {
              renderList(change.doc);
            }
          });
        });
    </script>
  </body>
</html>
